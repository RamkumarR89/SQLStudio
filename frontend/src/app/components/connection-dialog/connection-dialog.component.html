<h2 mat-dialog-title>New Connection</h2>
<form [formGroup]="connectionForm" (ngSubmit)="onSubmit()" mat-dialog-content>
  <mat-form-field appearance="fill">
    <mat-label>Connection type</mat-label>
    <mat-select formControlName="type">
      <mat-option *ngFor="let t of connectionTypes" [value]="t.value">{{ t.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-radio-group formControlName="inputType" class="mb-16">
    <mat-radio-button value="parameters">Parameters</mat-radio-button>
    <mat-radio-button value="connectionString">Connection String</mat-radio-button>
  </mat-radio-group>

  <mat-form-field appearance="fill">
    <mat-label>Server</mat-label>
    <input matInput formControlName="server" placeholder="e.g. servername,port">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Authentication type</mat-label>
    <mat-select formControlName="authType">
      <mat-option *ngFor="let a of authTypes" [value]="a.value">{{ a.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Database</mat-label>
    <input matInput formControlName="database" placeholder="&lt;Default&gt;">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Encrypt</mat-label>
    <mat-select formControlName="encrypt">
      <mat-option *ngFor="let e of encryptOptions" [value]="e.value">{{ e.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Trust server certificate</mat-label>
    <mat-select formControlName="trustServerCertificate">
      <mat-option *ngFor="let t of trustServerCertOptions" [value]="t.value">{{ t.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Server group</mat-label>
    <input matInput formControlName="serverGroup" placeholder="&lt;Default&gt;">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Name (optional)</mat-label>
    <input matInput formControlName="name">
  </mat-form-field>

  <mat-form-field appearance="fill" *ngIf="connectionForm.value.inputType === 'connectionString'">
    <mat-label>Connection String</mat-label>
    <input matInput formControlName="connectionString">
  </mat-form-field>

  <div mat-dialog-actions align="end">
    <button mat-button type="button" (click)="openAdvanced()">Advanced...</button>
    <button mat-button type="button" (click)="onCancel()">Cancel</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="!connectionForm.valid">Connect</button>
  </div>
</form> 